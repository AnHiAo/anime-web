<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test</title>
    <link href="https://vjs.zencdn.net/7.17.0/video-js.css" rel="stylesheet" />
    <link rel="stylesheet" href="vplugin.css">
    <link rel="stylesheet" href="index.css">
</head>
<body>
  <div class="main-mask"></div>
    <div id="main">
      <div class="main-content">
        <div id="header">
          <div class="header-category-name">Anime</div>
          <h1 class="header-title">その着せ替え人形は恋をする</h1>
          <div class="header-desc">雛人形の顔を作る、 「 かしらし頭師 」を目指す男子高校生・ 五条 わかな新菜 。真面目で雛人形作りに一途な反面、同世代の流行には疎く、中々クラスに馴染めずにいる。そんな新菜にとって、いつもクラスの輪の中心にいる人気者・ 喜多川 まりん海夢 はまるで別世界の住人。けれどある日、思わぬことをきっかけに、海夢と秘密を共有することになって……！？決して交わるはずのなかった２人の世界が、動き出す――！『ヤングガンガン』（スクウェア・エニックス）にて連載中・福田晋一による大人気原作を、CloverWorksが待望のアニメ化！
      </div>
        </div>
        <div id="body">
          <div class="body-title">episodes</div>
          <div class="body-content">
            <div class="body-content-cards">
            <div class="body-content-card">
                <video 
                width="100%"
                controls
                poster="https://niofile.oss-cn-beijing.aliyuncs.com/%5BHYSUB%5DSono%20Bisque%20Doll%20wa%20Koi%20wo%20Suru%5B01%5D%5BGB_MP4%5D%5B1920X1080%5D.mp4?x-oss-process=video/snapshot,t_10000,f_jpg"
                class="video-js" data-setup="{}" id="mainVideo"  webkit-playsinline="true"  playsinline="true">
                <source id="videoSource" type="video/mp4"   src="https://niofile.oss-cn-beijing.aliyuncs.com/%5BHYSUB%5DSono%20Bisque%20Doll%20wa%20Koi%20wo%20Suru%5B01%5D%5BGB_MP4%5D%5B1920X1080%5D.mp4"/>
                </video><time>28.3 min</time></div>
           <div class="body-content-card">
                <video 
                width="100%"
                controls
                poster="https://niofile.oss-cn-beijing.aliyuncs.com/%5BHYSUB%5DSono%20Bisque%20Doll%20wa%20Koi%20wo%20Suru%5B02%5D%5BGB_MP4%5D%5B1920X1080%5D.mp4?x-oss-process=video/snapshot,t_10000,f_jpg"
                class="video-js" data-setup="{}" id="mainVideo"  webkit-playsinline="true"  playsinline="true">
                <source id="videoSource" type="video/mp4"   src="https://niofile.oss-cn-beijing.aliyuncs.com/%5BHYSUB%5DSono%20Bisque%20Doll%20wa%20Koi%20wo%20Suru%5B02%5D%5BGB_MP4%5D%5B1920X1080%5D.mp4"/>
                </video><time>18.4 min</time></div>
              
           <div class="body-content-card">
                <video 
                width="100%"
                controls
                poster="https://niofile.oss-cn-beijing.aliyuncs.com/%5BNekomoe%20kissaten%5D%5BSono%20Bisque%20Doll%20wa%20Koi%20wo%20Suru%5D%5B03%5D%5B1080p%5D%5BCHS%5D.mp4?x-oss-process=video/snapshot,t_10000,f_jpg"
                class="video-js" data-setup="{}" id="mainVideo"  webkit-playsinline="true"  playsinline="true">
                <source id="videoSource"  type="video/mp4"  src="https://niofile.oss-cn-beijing.aliyuncs.com/%5BNekomoe%20kissaten%5D%5BSono%20Bisque%20Doll%20wa%20Koi%20wo%20Suru%5D%5B03%5D%5B1080p%5D%5BCHS%5D.mp4"/>
                </video><time>23.6 min</time></div>
              
           <div class="body-content-card">
                <video 
                width="100%"
                controls
                poster="https://niofile.oss-cn-beijing.aliyuncs.com/%5BNekomoe%20kissaten%5D%5BSono%20Bisque%20Doll%20wa%20Koi%20wo%20Suru%5D%5B04%5D%5B1080p%5D%5BCHS%5D.mp4?x-oss-process=video/snapshot,t_10000,f_jpg"
                class="video-js" data-setup="{}" id="mainVideo"  webkit-playsinline="true"  playsinline="true">
                <source id="videoSource" type="video/mp4"  src="https://niofile.oss-cn-beijing.aliyuncs.com/%5BNekomoe%20kissaten%5D%5BSono%20Bisque%20Doll%20wa%20Koi%20wo%20Suru%5D%5B04%5D%5B1080p%5D%5BCHS%5D.mp4"/>
                </video><time>23.6 min</time></div>

           </div>
          </div>
        </div>
        <div id="footer">
          <div class="footer-title">Special</div>
          <div class="footer-content">
            <ul>
 
              <li style="border-color: rgb(98, 46, 146);" >
                <div class="footer-li-img"><img src="https://bisquedoll-anime.com/assets/img/special/bnr_dododo.jpg" alt="Twitterアカウントフォロワー記念デジコンプレゼント" onmousedown="return false" oncopy="return false" onselectstart="return false" oncontextmenu="return false"></div>
                <div class="footer-li-title">そのドッドッドッボタンは止まらない</div>
                <a href="https://bisquedoll-anime.com/dododo/" class="u-hover__opacity" target="_blank" rel="noopener"></a>
              </li style="border-color:rgb(252, 234, 184);">
              <li style="border-color: rgb(252, 234, 184);">
                <div class="footer-li-img"><img src="https://bisquedoll-anime.com/assets/img/special/bnr_newyear.jpg" alt="Twitterアカウントフォロワー記念デジコンプレゼント" onmousedown="return false" oncopy="return false" onselectstart="return false" oncontextmenu="return false"></div>
                <div class="footer-li-title">お正月壁紙プレゼント</div>
                <a href="https://bisquedoll-anime.com/newyear/" class="u-hover__opacity" target="_blank" rel="noopener"></a>
              </li>
              <li style="border-color: rgb(245, 216, 220);">
                <div class="footer-li-img"><img src="https://bisquedoll-anime.com/assets/img/special/bnr_xmas.jpg" alt="Twitterアカウントフォロワー記念デジコンプレゼント" onmousedown="return false" oncopy="return false" onselectstart="return false" oncontextmenu="return false"></div>
                <div class="footer-li-title">クリスマス壁紙プレゼント</div>
                <a href="https://bisquedoll-anime.com/xmas/" class="u-hover__opacity" target="_blank" rel="noopener"></a>
              </li>
              <li style="border-color: rgb(255, 154, 22);">
                <div class="footer-li-img"><img src="https://bisquedoll-anime.com/assets/img/bnr_halloween.jpg" alt="Twitterアカウントフォロワー記念デジコンプレゼント" onmousedown="return false" oncopy="return false" onselectstart="return false" oncontextmenu="return false"></div>
                <div class="footer-li-title">ハロウィン壁紙プレゼント</div>
                <a href="https://bisquedoll-anime.com/halloween/" class="u-hover__opacity" target="_blank" rel="noopener"></a>
              </li>
              <li style="border-color: rgb(255, 238, 140);">
                <div class="footer-li-img"><img src="https://bisquedoll-anime.com/assets/img/special/bnr_wallpaper.jpg" alt="Twitterアカウントフォロワー記念デジコンプレゼント" onmousedown="return false" oncopy="return false" onselectstart="return false" oncontextmenu="return false"></div>
                <div class="footer-li-title">Twitterアカウントフォロワー記念デジコンプレゼント</div>
                <a href="https://bisquedoll-anime.com/wallpaper/" class="u-hover__opacity" target="_blank" rel="noopener"></a>
              </li>
            </ul>
          <div class="footer-content-end-cover">
            <img src="https://bisquedoll-anime.com/assets/teaser/img/marin/footer_bg_sp.png" />

          </div> 

            <!-- <iframe allowtransparency="true"  scrolling="" src="https://iframes-ten.vercel.app/HAPPYHALOWEEN.html"></iframe> -->
          </div>
        </div>
      </div>
    
      </div>
      <script src="https://unpkg.com/better-scroll@latest/dist/better-scroll.min.js"></script>
    <script>
      let test = 0;
      let testopacity = 0;
      let test2light = 1;
      let testEpsideosIsMove = false; 
      let testEpsideosAddStep = .005; 
        onload=function(){
          if(window.innerWidth > 911) {
      let cards_bs = BetterScroll.createBScroll(document.querySelector(".body-content"), {
                  movable: true,
                  scrollX: true,
                  scrollY:false,
                  minSize :1,
                  scrollbar: true, 
                  mouseWheel: true,
                  click:true,});};
      let testbs = BetterScroll.createBScroll(document.getElementById("main"),{
                probeType:3,
                movable:true,
                scrollY:true,
                scrollbar: true,
                mouseWheel: true,
                minSize :1,
                click:true,
                bounceTime:500,
             });
    let y = 70;
    const hooks = testbs.scroller.actionsHandler.hooks
   let realY = 70;
   let realTop = 100;
   let rgblackvalue = 0;
  testbs.on('scrollStart', () => {console.log("scrollStart")})
  testbs.on("scrollCancel",()=>console.log("scrollCancel"))
  testbs.on("scroll",(position)=>{
    scrollY = position.y;
    testEpsideosIsMove = false;
  
    if(testbs.movingDirectionY === -1){
      /* down move */
      if(test2light <= 1){
        console.log("do light")
        document.getElementById("body").style.opacity=`${1- (rgblackvalue / 100)}`;
        document.querySelector("body").style.backdropFilter=`brightness(${rgblackvalue / 100})`;
      }
      // if (testopacity >= 0 && 
      // // document.getElementById("body").getBoundingClientRect().top - window.innerHeight > 0
      // testEpsideosIsMove
      // ){
      //   document.getElementById("body").style.opacity = (testopacity -=(rgblackvalue / 1700));
      //   console.log("started opacity -=")
      // }
    }else{
      /* up move */
      if(test2light >= 0){
        console.log("do light2")
        document.getElementById("body").style.opacity=`${1- (rgblackvalue / 100)}`;
        document.querySelector("body").style.backdropFilter=`brightness(${rgblackvalue / 100})`;
      }
      // if(testopacity <=1 && (
      //   !testEpsideosIsMove
      //   // document.getElementById("body").getBoundingClientRect().top - window.innerHeight < 0
      // )){
      //   console.log("started opacity +=")
      //   document.getElementById("body").style.opacity = (testopacity += (rgblackvalue / 1700))
      // }
      
    }
    document.body.style.setProperty(`--rgblackvalue`,`${( rgblackvalue = (100+(scrollY/3)))}%`)
    if(parseInt( document.body.style.getPropertyValue(`--rgwhitevalue`))
      < 70
    ){
      document.body.style.setProperty(`--rgwhitevalue`,`${(100+(scrollY/2.5))}%`)
    }else if(parseInt( document.body.style.getPropertyValue(`--rgwhitevalue`))
      < 68
    ){
      document.body.style.setProperty(`--rgwhitevalue`,`${(100+(scrollY/2.3))}%`)
    }
    else if(parseInt( document.body.style.getPropertyValue(`--rgwhitevalue`))
      < 66
    ){
      document.body.style.setProperty(`--rgwhitevalue`,`${(100+(scrollY/2.1))}%`)
    }
    else  if(parseInt( document.body.style.getPropertyValue(`--rgwhitevalue`))
      < 64
    ){
      document.body.style.setProperty(`--rgwhitevalue`,`${(100+(scrollY/1.9))}%`)

    } else  if(parseInt( document.body.style.getPropertyValue(`--rgwhitevalue`))
      < 62
    ){
      document.body.style.setProperty(`--rgwhitevalue`,`${(100+(scrollY/1.6))}%`)

    }
    else  if(parseInt( document.body.style.getPropertyValue(`--rgwhitevalue`))
      < 60
    ){
      document.body.style.setProperty(`--rgwhitevalue`,`${(100+(scrollY/1.3))}%`)
      
    }
    else{
      document.body.style.setProperty(`--rgwhitevalue`,`${(100+(scrollY/2.7))}%`)
    }
    /* change radial-gradient value */


    // if(rgblackvalue < 50 && rgblackvalue >0){
    //   console.log(rgblackvalue)
    //   testEpsideosIsMove = true;
    //   document.getElementById("body").style.animation=`opacityTransitionMotion-On .5s ease-in-out forwards`;
    // }
    // if(rgblackvalue > 50 ){
    //   console.log(rgblackvalue)
    //   testEpsideosIsMove = true;
    //   document.getElementById("body").style.animation=`opacityTransitionMotion-Off .5s ease-in-out forwards`;
    // }
  })
  testbs.on('scrollEnd', () => {
  console.log(testbs.y)

  })

        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/better-scroll/2.4.2/better-scroll.min.js" integrity="sha512-pFKFFZLb5WRYdK2dx8jM5fblHOtZXGWVTZSMWonOwMXBez2r8RjLa05f7tv+ZGH2zAGY0aQnUcxAeBWOqTAD8w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://vjs.zencdn.net/7.17.0/video.min.js"></script>
  </body>
</html>
